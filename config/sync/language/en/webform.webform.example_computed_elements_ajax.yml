title: 'Example: Computed Ajax'
description: 'Example of a computed element using Ajax.'
category: Example
elements: "message_warning:\n  '#type': webform_message\n  '#states':\n    visible:\n      ':input[name=\"c\"]':\n        value: c\n  '#message_type': warning\n  '#message_message': 'Please enter <strong>a</strong> and <strong>b</strong> to perform a basic adding calculation.'\nmessage_status:\n  '#type': webform_message\n  '#message_message': 'Thank you for entering <strong>a</strong> and <strong>b</strong> to perform a basic adding calculation.'\n  '#states':\n    visible:\n      ':input[name=\"c\"]':\n        '!value': c\ncalculation:\n  '#type': fieldset\n  '#title': 'Basic adding calculation'\n  container:\n    '#type': container\n    '#attributes':\n      class:\n        - container-inline\n        - calculation\n    a:\n      '#type': number\n      '#title': a\n      '#title_display': invisible\n      '#placeholder': a\n      '#required': true\n    markup_add:\n      '#type': webform_markup\n      '#markup': ' + '\n    b:\n      '#type': number\n      '#title': b\n      '#title_display': invisible\n      '#placeholder': b\n      '#required': true\n    markup_equals:\n      '#type': webform_markup\n      '#markup': ' = '\n    c:\n      '#type': webform_computed_twig\n      '#title': c\n      '#title_display': invisible\n      '#ajax': true\n      '#template': '{% if data.a|length and data.b|length %}{{ data.a + data.b }}{% else %}c{% endif %}'\nuser_summary:\n  '#type': fieldset\n  '#title': 'User information'\n  user:\n    '#type': webform_entity_select\n    '#title': 'User: Summary'\n    '#target_type': user\n    '#selection_handler': 'default:user'\n    '#selection_settings':\n      include_anonymous: false\n      filter:\n        type: _none\n  user_preview:\n    '#type': webform_computed_token\n    '#title': 'User'\n    '#title_display': none\n    '#ajax': true\n    '#hide_empty': true\n    '#template': |\n      <strong>User: ID:</strong> [webform_submission:values:user:entity:uid:clear]<br/>\n      <strong>User: Display name:</strong> [webform_submission:values:user:entity:display-name:clear]<br/>\n      <strong>User: Email:</strong> [webform_submission:values:user:entity:mail:clear]<br/>\n      <strong>User: URL:</strong> [webform_submission:values:user:entity:url:clear]<br/>\n      <strong>User: Created:</strong> [webform_submission:values:user:entity:created:clear]\n    '#display_on': form\n  user_uid:\n    '#type': webform_computed_token\n    '#title': 'User: ID'\n    '#template': '[webform_submission:values:user:entity:uid:clear]'\n    '#display_on': view\n  user_display_name:\n    '#type': webform_computed_token\n    '#title': 'User: Display name'\n    '#template': '[webform_submission:values:user:entity:display-name:clear]'\n    '#display_on': view\n  user_mail:\n    '#type': webform_computed_token\n    '#title': 'User: Email'\n    '#template': '[webform_submission:values:user:entity:mail:clear]'\n    '#display_on': view\n  user_url:\n    '#type': webform_computed_token\n    '#title': 'User: URL'\n    '#template': '[webform_submission:values:user:entity:url:clear]'\n    '#display_on': view\n  user_created:\n    '#type': webform_computed_token\n    '#title': 'User: Created'\n    '#template': '[webform_submission:values:user:entity:created:clear]'\n    '#display_on': view\nbmi_calculator:\n  '#type': fieldset\n  '#title': 'Body Mass Index (BMI) calculator'\n  '#description': |\n    Formula: weight (lb) / [height (in)]2 x 703<br/>\n    @see <a href=\"https://www.cdc.gov/nccdphp/dnpao/growthcharts/training/bmiage/page5_2.html\">https://www.cdc.gov/nccdphp/dnpao/growthcharts/training/bmiage/page5_2.html</a>\n  weight:\n    '#type': number\n    '#title': Weight\n    '#field_suffix': ' pounds'\n    '#default_value': 37.25\n    '#step': .25\n    '#min': 1\n  height:\n    '#type': webform_height\n    '#title': Height\n    '#default_value': 41.5\n    '#inches__step': .5\n  bmi:\n    '#type': webform_computed_twig\n    '#title': BMI\n    '#ajax': true\n    '#template': '{% if data.weight|length and data.height|length %}{{ (data.weight / (data.height * data.height) * 703)|number_format(2) }}{% endif %}'\n"
